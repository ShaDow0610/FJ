import{m as W,i as L,p as S,g as m,_ as E,r as _,w as F,o as I,c as g,b as v,d as o,q as V,F as $,e as A,u as C,t as w,l as R,n as B,a as q,h as D,s as j,v as G,x as z,y as N}from"./index-D2ujf-yf.js";import{s as H}from"./meta-BLRsw3Mt.js";import{_ as M}from"./ImageSmart-7xZCOkKO.js";import{r as U}from"./reveal-laGXGv2v.js";import{u as O}from"./useReducedMotion-YGm2G6Ku.js";import{m as b}from"./motion-J0U5kSRg.js";const P=W("gallery",()=>{const e=L({items:[],filters:{tag:"all"}});let a="all",s=[];const d=S(()=>{const l=e.filters.tag||"all";if(l===a&&s.length)return s;if(l==="all")return a="all",s=e.items,s;const t=e.items.filter(f=>(f.tags||[]).includes(l));return a=l,s=t,t});function r(l){e.items=Array.isArray(l)?l:[],a=e.filters.tag||"all",s=[]}function c(l){e.filters.tag=l||"all",a="",s=[]}return{items:e.items,filters:e.filters,filtered:d,setItems:r,setTag:c}});function K(e,{disabled:a=!1}={}){const s=document.createElement("span");Object.assign(s.style,{position:"absolute",height:"2px",left:"0px",bottom:"0px",width:"0px",background:"#caa45f",transition:"none",pointerEvents:"none"}),e.style.position="relative",e.appendChild(s);const r=!!window.matchMedia("(prefers-reduced-motion: reduce)").matches;function c(t){if(a||r||!t)return;const f=e.getBoundingClientRect(),p=t.getBoundingClientRect(),h=p.left-f.left+8,u=p.width-16;m.to(s,{x:h,width:Math.max(0,u),duration:.25,ease:"power2.out"})}function l(){m.to(s,{width:0,duration:.2})}return{bar:s,moveTo:c,hide:l}}const Q={class:"max-w-7xl mx-auto px-4 sm:px-6"},X={class:"mb-6"},J=["data-active","onClick"],Y={class:"grid gap-4 sm:gap-5 grid-cols-2 lg:grid-cols-3"},Z=["onClick"],ee={class:"absolute inset-x-0 bottom-0 p-3 from-black/60 via-black/30 to-transparent bg-gradient-to-t"},te={class:"text-sm sm:text-base text-white font-medium"},se={class:"mt-1 text-[11px] sm:text-xs text-white/70"},ae={__name:"GalleryGrid",setup(e){const a=P(),s=S(()=>{const u=new Set;for(const y of a.items)(y.tags||[]).forEach(i=>u.add(i));return["all",...Array.from(u)]}),d=_(null),r=_(null);let c;const{reduced:l}=O();function t(){if(!c||!r.value)return;const u=r.value.querySelector('[data-active="true"]');c.moveTo(u||null)}F(()=>a.filters.tag,async()=>{await B(),t()}),I(()=>{h.value&&U(h.value),r.value&&(c=K(r.value,{disabled:l.value}),t())});function f(u){d.value=u}function p(){d.value=null}const h=_(null);return(u,y)=>(v(),g("section",{ref_key:"root",ref:h,class:"py-10 sm:py-14"},[o("div",Q,[o("div",X,[o("div",{ref_key:"barRef",ref:r,class:"relative flex flex-wrap gap-2"},[(v(!0),g($,null,A(s.value,i=>(v(),g("button",{key:i,type:"button","data-active":C(a).filters.tag===i,class:"px-3 py-1.5 rounded text-sm transition text-white/80 hover:text-white hover:bg-white/5 data-[active=true]:text-white data-[active=true]:bg-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#caa45f]",onClick:k=>C(a).setTag(i)},w(i==="all"?"All":i),9,J))),128))],512)]),o("div",Y,[(v(!0),g($,null,A(C(a).filtered,i=>(v(),g("article",{key:i.id,class:"group relative cursor-pointer overflow-hidden rounded-2xl border border-white/10 bg-white/[.03]",onClick:k=>f(i),"data-reveal":""},[R(M,{src:i.cover,alt:i.title,w:1200,h:800,imgClass:"group-hover:scale-[1.02] transition duration-300"},null,8,["src","alt"]),o("div",ee,[o("h3",te,w(i.title),1),o("p",se,w((i.tags||[]).join(" · ")),1)])],8,Z))),128))])]),V(u.$slots,"overlay",{item:d.value,close:p},void 0)],512))}},ie=E(ae,[["__scopeId","data-v-a38c22a6"]]),oe=["aria-label"],le={class:"p-4 sm:p-5"},ne={class:"flex items-start gap-3"},re={class:"text-lg sm:text-xl font-semibold text-white"},ce={key:0,class:"mt-2 text-xs sm:text-sm text-white/70"},ue={__name:"LookOverlay",props:{item:{type:Object,required:!0}},emits:["close"],setup(e,{emit:a}){const s=e,d=a,r=_(null),c=_(null),l=_(null),t=_(null),{reduced:f}=O();let p=null;function h(){if(typeof document>"u")return null;let n=document.querySelector(`[data-card-id="${s.item.id}"] img`);return n||(n=Array.from(document.querySelectorAll("img")).find(x=>x.getAttribute("alt")===s.item.title)||null),n||null}async function u(){if(f.value)return;const n=h();!n||!t.value||!l.value||(m.set(l.value,{position:"relative"}),m.set(t.value,{position:"absolute",inset:0}),G.fit(t.value,n,{absolute:!0}),await B(),m.to(t.value,{x:0,y:0,width:"100%",height:"100%",duration:b.dur.sm,ease:b.ease.inOut,onComplete:()=>m.set(t.value,{clearProps:"all"})}))}async function y(){if(f.value)return;const n=h();if(!n||!t.value)return;const x=t.value.getBoundingClientRect();m.set(t.value,{position:"absolute",left:0,top:0,width:`${x.width}px`,height:`${x.height}px`}),m.to({},{duration:b.dur.xs}),G.fit(t.value,n,{absolute:!0}),await new Promise(T=>setTimeout(T,b.dur.xs*1e3))}function i(){const n=()=>d("close");if(f.value)return n();y().finally(n)}function k(n){n.key==="Escape"&&i()}return I(async()=>{p=n=>k(n),document.addEventListener("keydown",p),m.from(c.value,{opacity:0,duration:.4,ease:b.ease.out}),await B(),await u()}),q(()=>{document.removeEventListener("keydown",p),m.killTweensOf(c.value),m.killTweensOf(t.value)}),(n,x)=>(v(),g("div",{ref_key:"root",ref:r,class:"fixed inset-0 z-[10000] bg-black/60 backdrop-blur-sm grid place-items-center p-4 sm:p-6",onClick:j(i,["self"]),role:"dialog","aria-modal":"true","aria-label":e.item?.title||"Look"},[o("div",{ref_key:"panel",ref:c,class:"relative w-full max-w-4xl rounded-2xl overflow-hidden border border-white/10 bg-black/60"},[o("div",{ref_key:"imgWrap",ref:l,class:"relative"},[R(M,{ref_key:"imgEl",ref:t,src:e.item.cover,alt:e.item.title,w:1200,h:800,imgClass:"rounded-none"},null,8,["src","alt"])],512),o("div",le,[o("div",ne,[o("h3",re,w(e.item.title),1),o("button",{type:"button",class:"ml-auto px-3 py-1.5 text-sm rounded border border-white/15 text-white/90 hover:text-white hover:bg-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#caa45f]",onClick:i}," Fermer ")]),e.item.tags?.length?(v(),g("p",ce,w(e.item.tags.join(" · ")),1)):D("",!0)])],512)],8,oe))}},de=E(ue,[["__scopeId","data-v-a35cf2ee"]]),me={id:"main",class:"relative isolate text-white"},fe={class:"pt-10 sm:pt-14"},ve={__name:"GalleryView",setup(e){const a=P();return _(null),I(()=>{a.items.length||a.setItems([{id:"lk-01",title:"Night Studio",tags:["studio"],cover:"https://www.bing.com/images/search?view=detailV2&ccid=oWWnx5Pl&id=9FD74DC27744B9DE6ECBC5D7ADA80C5DD1C7944B&thid=OIP.oWWnx5Pl52R8m-7Xue6zvQHaDj&mediaurl=https%3a%2f%2fmedia.hagerty.com%2fmedia%2fwp-content%2fuploads%2fuscamediasite%2fimages%2fstory-images%2f2018%2f05%2fmazdarx734thumb20180508134921&cdnurl=https%3a%2f%2fth.bing.com%2fth%2fid%2fR.a165a7c793e5e7647c9beed7b9eeb3bd%3frik%3dS5TH0V0MqK3XxQ%26pid%3dImgRaw%26r%3d0&exph=1199&expw=2500&q=fd&FORM=IRPRST&ck=A623D2A619C3164DBEE884A9B71C9E01&selectedIndex=0&itb=0"},{id:"lk-02",title:"Street Amber",tags:["street"],cover:"../assets/2024_08_31_23_54_IMG_1932.WEBP"},{id:"lk-03",title:"Casual Ivory",tags:["casual"],cover:"../assets/2024_08_31_23_54_IMG_1934.WEBP"},{id:"lk-04",title:"Runway Rouge",tags:["street"],cover:"../assets/2024_08_31_23_54_IMG_1936.WEBP"},{id:"lk-05",title:"Studio Gold",tags:["studio"],cover:"../assets/2024_08_31_23_54_IMG_1938.WEBP"},{id:"lk-06",title:"Daylight",tags:["casual"],cover:"../assets/2024_08_31_23_54_IMG_1940.WEBP"}]),H({title:"Galerie / Lookbook",description:"Vitrine tactile : filtres élégants, tilt 3D, morphing FLIP."})}),(s,d)=>(v(),g("main",me,[o("section",fe,[d[0]||(d[0]=o("div",{class:"max-w-7xl mx-auto px-4 sm:px-6"},[o("header",{class:"mb-6 sm:mb-8"},[o("h1",{class:"text-3xl sm:text-4xl font-semibold tracking-tight"},"Galerie — Lookbook"),o("p",{class:"mt-2 text-white/70 text-sm sm:text-base"}," Filtrez par ambiance et ouvrez un look pour le découvrir. ")])],-1)),R(ie,null,{overlay:z(({item:r,close:c})=>[r?(v(),N(de,{key:0,item:r,onClose:c},null,8,["item","onClose"])):D("",!0)]),_:1})])]))}},we=E(ve,[["__scopeId","data-v-3798a39e"]]);export{we as default};
