import{s as Y}from"./meta-BLRsw3Mt.js";import{m as j,i as z,p as $,r as g,o as I,c as f,b as u,l as R,d as e,t as p,u as h,_ as U,a as Z,g as x,A as O,B as L,F as N,e as T,f as M,C as ee,k as w,h as _,s as te,v as ie,n as se,q as oe,x as G,R as re,y as V}from"./index-D2ujf-yf.js";import{_ as ne}from"./ImageSmart-7xZCOkKO.js";import{r as H}from"./reveal-laGXGv2v.js";import{m as C}from"./motion-J0U5kSRg.js";const le=j("products",()=>{const t=z({outfits:[],services:[]});function a(r){t.outfits=Array.isArray(r)?r:[]}function c(r){t.services=Array.isArray(r)?r:[]}return{outfits:t.outfits,services:t.services,setOutfits:a,setServices:c}}),Q=j("cart",()=>{const t=z({items:[]}),a=$(()=>t.items.reduce((s,o)=>s+(Number(o.price)||0)*(Number(o.qty)||0),0)),c=$(()=>t.items.reduce((s,o)=>s+(Number(o.qty)||0),0));function r(s,o=1){if(!s||!s.id)return;const m=Math.max(1,Number(o)||1),v=t.items.findIndex(P=>P.id===s.id);v>=0?(t.items[v].qty=Math.min(999,(Number(t.items[v].qty)||0)+m),t.items[v].title=s.title??t.items[v].title,t.items[v].price=Number(s.price??t.items[v].price)||0):t.items.push({id:String(s.id),title:s.title??"",price:Number(s.price)||0,qty:m})}function b(s){const o=t.items.findIndex(m=>m.id===s);o>=0&&t.items.splice(o,1)}function d(){t.items=[]}return{items:t.items,total:a,count:c,add:r,remove:b,clear:d}});function q(t,a="XAF",c="fr-CM"){if(t==null||isNaN(t))return"";try{if(typeof Intl<"u"&&Intl.NumberFormat)return new Intl.NumberFormat(c,{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}catch{}return`${t} ${a}`}const ae={class:"p-4 sm:p-5"},ce={class:"text-base sm:text-lg font-semibold text-white"},de={class:"mt-1 text-sm text-white/70"},ue={__name:"OutfitCard",props:{outfit:{type:Object,required:!0}},emits:["addBundle","choosePieces"],setup(t,{emit:a}){const c=t,r=a,b=g(null);function d(){r("addBundle",c.outfit)}function s(){r("choosePieces",c.outfit)}return I(()=>{b.value&&H(b.value)}),(o,m)=>(u(),f("article",{ref_key:"root",ref:b,class:"group relative overflow-hidden rounded-2xl border border-white/10 bg-white/[.03] shadow-[0_20px_60px_-40px_rgba(0,0,0,.8)] transition-transform duration-300 will-change-transform hover:scale-[1.02] hover:shadow-[0_28px_90px_-50px_rgba(0,0,0,.8)]","data-reveal":""},[R(ne,{src:t.outfit.cover,alt:t.outfit.title,w:1200,h:800,imgClass:"transition duration-300 group-hover:scale-[1.02]"},null,8,["src","alt"]),e("div",ae,[e("h3",ce,p(t.outfit.title),1),e("p",de,p(h(q)(t.outfit.price)),1),e("div",{class:"mt-4 flex flex-wrap gap-2"},[e("button",{type:"button",onClick:d,class:"px-4 py-2 rounded-full text-sm font-medium border border-white/15 bg-white/[.08] text-white/90 hover:bg-white/10 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-[#caa45f]"}," Ajouter l’ensemble "),e("button",{type:"button",onClick:s,class:"px-4 py-2 rounded-full text-sm border border-white/15 text-white/80 hover:text-white hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#caa45f]"}," Choisir pièces ")])])],512))}},me=["aria-label"],fe={class:"relative"},he={class:"relative h-24 sm:h-28 md:h-32 bg-gradient-to-r from-white/10 to-white/5"},pe=["src","alt"],ve={class:"absolute inset-0 flex items-end p-4 sm:p-5"},be={class:"text-lg sm:text-xl font-semibold drop-shadow"},xe={class:"p-4 sm:p-5"},ge={class:"inline-flex items-center gap-2 text-sm text-white/80 select-none"},we={class:"mt-3 divide-y divide-white/10 rounded-xl border border-white/10 overflow-hidden"},_e=["onUpdate:modelValue","aria-label"],ye={class:"flex-1 min-w-0"},ke={class:"flex items-center gap-2"},Ce={class:"text-sm sm:text-base font-medium truncate"},$e={class:"text-xs text-white/60"},qe={class:"flex items-center gap-2"},Se=["onClick","disabled"],Ae=["onUpdate:modelValue","disabled"],Ne=["onClick","disabled"],Ie={class:"mt-4 flex flex-col sm:flex-row sm:items-center gap-3"},Pe={class:"text-sm sm:text-base text-white/80"},Be={class:"text-white"},Fe={key:0},Oe={key:1},Me={class:"font-semibold text-white"},Ve={class:"sm:ml-auto flex gap-2"},Te=["disabled"],Ue={__name:"PieceListModal",props:{outfit:{type:Object,required:!0},sourceSelector:{type:String,default:""}},emits:["close","added"],setup(t,{emit:a}){const c=t,r=a,b=Q(),d=g((c.outfit?.pieces||[]).map(i=>({id:i.id,title:i.title,price:Number(i.price)||0,checked:!0,qty:1}))),s=$(()=>d.value.reduce((i,n)=>i+(n.checked?n.qty:0),0)),o=$(()=>d.value.reduce((i,n)=>i+(n.checked?n.qty*n.price:0),0));function m(i){d.value[i].qty=Math.min(99,d.value[i].qty+1)}function v(i){d.value[i].qty=Math.max(1,d.value[i].qty-1)}function P(i){d.value.forEach(n=>n.checked=i)}const D=$({get:()=>d.value.every(i=>i.checked),set:i=>P(i)}),S=g(null),B=g(null),A=g(null);let F=null;function J(i){i.key==="Escape"&&y()}async function K(){if(x.from(S.value,{opacity:0,duration:.18,ease:C.ease.out}),x.from(B.value,{opacity:0,scale:.96,duration:.18,ease:C.ease.out}),c.sourceSelector&&A.value){const i=document.querySelector(c.sourceSelector+" img");if(i){const n=A.value,l=n.getBoundingClientRect();x.set(n,{position:"absolute",left:0,top:0,width:`${l.width}px`,height:`${l.height}px`}),ie.fit(n,i,{absolute:!0}),await se(),x.to(n,{x:0,y:0,width:"100%",height:"100%",duration:C.dur.xs,ease:C.ease.inOut,onComplete:()=>x.set(n,{clearProps:"all"})})}}}async function W(){await new Promise(i=>x.to(S.value,{opacity:0,duration:.14,ease:C.ease.in,onComplete:i}))}function y(){W().finally(()=>r("close"))}function X(){d.value.forEach(i=>{i.checked&&i.qty>0&&b.add({id:i.id,title:i.title,price:i.price},i.qty)}),r("added",{count:s.value,total:o.value,outfitId:c.outfit.id}),y()}return I(()=>{F=i=>J(i),document.addEventListener("keydown",F),K()}),Z(()=>{document.removeEventListener("keydown",F),x.killTweensOf([S.value,B.value,A.value])}),(i,n)=>(u(),f("div",{ref_key:"backdrop",ref:S,class:"fixed inset-0 z-[10010] bg-black/60 backdrop-blur-sm grid place-items-center p-4 sm:p-6",role:"dialog","aria-modal":"true","aria-label":`Choisir les pièces pour ${t.outfit?.title??"look"}`,onClick:te(y,["self"])},[e("div",{ref_key:"panel",ref:B,class:"w-full max-w-3xl rounded-2xl overflow-hidden border border-white/10 bg-black/70 text-white"},[e("div",fe,[e("div",he,[e("img",{ref_key:"headerImg",ref:A,src:t.outfit.cover,alt:t.outfit.title,class:"hidden"},null,8,pe)]),e("div",ve,[e("h3",be,p(t.outfit.title),1)]),e("button",{type:"button",class:"absolute top-3 right-3 px-3 py-1.5 text-sm rounded border border-white/15 text-white/90 hover:text-white hover:bg-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#caa45f]",onClick:y}," Fermer ")]),e("div",xe,[e("label",ge,[O(e("input",{type:"checkbox","onUpdate:modelValue":n[0]||(n[0]=l=>D.value=l),class:"accent-[#caa45f]"},null,512),[[L,D.value]]),n[1]||(n[1]=e("span",null,"Tout sélectionner",-1))]),e("ul",we,[(u(!0),f(N,null,T(d.value,(l,E)=>(u(),f("li",{key:l.id,class:"flex items-center gap-3 p-3 sm:p-4 bg-white/[.02]"},[O(e("input",{type:"checkbox","onUpdate:modelValue":k=>l.checked=k,class:"accent-[#caa45f]","aria-label":`Sélectionner ${l.title}`},null,8,_e),[[L,l.checked]]),e("div",ye,[e("div",ke,[e("h4",Ce,p(l.title),1),e("span",$e,p(h(q)(l.price)),1)])]),e("div",qe,[e("button",{type:"button",class:M(["w-8 h-8 grid place-items-center rounded-full border border-white/15 hover:bg-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#caa45f]",{"opacity-50 cursor-not-allowed":!l.checked||l.qty<=1}]),onClick:k=>v(E),disabled:!l.checked||l.qty<=1,"aria-label":"Diminuer"},"−",10,Se),O(e("input",{type:"number",min:"1",max:"99","onUpdate:modelValue":k=>l.qty=k,disabled:!l.checked,class:"w-12 text-center bg-black/40 border border-white/10 rounded py-1","aria-label":"Quantité"},null,8,Ae),[[ee,l.qty,void 0,{number:!0}]]),e("button",{type:"button",class:M(["w-8 h-8 grid place-items-center rounded-full border border-white/15 hover:bg-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#caa45f]",{"opacity-50 cursor-not-allowed":!l.checked||l.qty>=99}]),onClick:k=>m(E),disabled:!l.checked||l.qty>=99,"aria-label":"Augmenter"},"+",10,Ne)])]))),128))]),e("div",Ie,[e("div",Pe,[e("span",Be,p(s.value),1),n[2]||(n[2]=w(" pièce",-1)),s.value>1?(u(),f("span",Fe,"s")):_("",!0),n[3]||(n[3]=w(" sélectionnée",-1)),s.value>1?(u(),f("span",Oe,"s")):_("",!0),n[4]||(n[4]=w(" — ",-1)),e("span",Me,p(h(q)(o.value)),1)]),e("div",Ve,[e("button",{type:"button",class:"px-4 py-2 rounded-full text-sm border border-white/15 text-white/80 hover:text-white hover:bg-white/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#caa45f]",onClick:y}," Annuler "),e("button",{type:"button",class:M(["px-4 py-2 rounded-full text-sm font-medium border border-white/15 bg-white/[.08] text-white/90 hover:bg-white/10 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-[#caa45f]",{"opacity-50 cursor-not-allowed":s.value===0}]),disabled:s.value===0,onClick:X}," Ajouter ",10,Te)])])])],512)],8,me))}},De=U(Ue,[["__scopeId","data-v-55de8184"]]),Ee={class:"flex items-start gap-3"},Le={class:"text-lg sm:text-xl font-semibold leading-snug"},je={class:"mt-3 text-sm text-white/80"},ze={class:"mt-3 text-sm text-white/70"},Re={class:"text-white font-medium"},Ge={class:"mt-5"},He={__name:"ServiceCard",props:{service:{type:Object,required:!0}},setup(t){const a=g(null);return I(()=>{a.value&&H(a.value)}),(c,r)=>(u(),f("article",{ref_key:"root",ref:a,class:"group relative overflow-hidden rounded-2xl border border-white/10 bg-white/[.03] p-4 sm:p-5 text-white transition hover:border-[color:#caa45f]/70 hover:shadow-[0_30px_90px_-40px_rgba(202,164,95,.35)] focus-within:ring-2 focus-within:ring-[#caa45f]","data-reveal":""},[e("header",Ee,[oe(c.$slots,"icon",{},void 0),e("h3",Le,p(t.service.title),1)]),e("p",je,p(t.service.copy),1),e("div",ze,[t.service.priceFrom!=null?(u(),f(N,{key:0},[r[0]||(r[0]=w(" À partir de ",-1)),e("span",Re,p(h(q)(t.service.priceFrom)),1)],64)):_("",!0)]),e("div",Ge,[R(h(re),{to:"/contact",class:"inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium border border-white/15 bg-white/[.08] text-white/90 hover:bg-white/10 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-[#caa45f] transition","aria-label":"Contacter pour cette prestation"},{default:G(()=>[...r[1]||(r[1]=[w(" Contacter ",-1),e("i",{class:"fa-solid fa-arrow-right-long","aria-hidden":"true"},null,-1)])]),_:1})])],512))}},Qe=U(He,[["__scopeId","data-v-6140fa67"]]),Je={id:"main",class:"relative isolate text-white"},Ke={class:"pt-10 sm:pt-14"},We={class:"max-w-7xl mx-auto px-4 sm:px-6"},Xe={class:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},Ye={key:0,class:"mt-6 rounded-2xl border border-white/10 bg-white/[.04] p-4"},Ze={class:"flex items-center gap-3 text-sm"},et={class:"text-white/80"},tt={class:"text-white"},it={key:0},st={class:"ml-auto font-medium"},ot={class:"mt-10 sm:mt-14"},rt={class:"mt-4 grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},nt={__name:"ShopView",setup(t){const a=le(),c=Q(),r=g(null);function b(s){c.add({id:s.id,title:s.title,price:s.price},1)}function d(s){r.value=s}return I(()=>{Y({title:"Boutique — Outfits & Services",description:"Achetez l’ensemble ou chaque pièce. Services premium d’influence : shooting, UGC, collaborations."}),a.outfits.length||a.setOutfits([{id:"o-amber",title:"Amber Street Set",cover:"/assets/shop/amber.avif",price:12e4,pieces:[{id:"p-amb-tee",title:"T-shirt Amber",price:25e3},{id:"p-amb-pants",title:"Pantalon Street",price:45e3},{id:"p-amb-shoes",title:"Sneakers Ivory",price:5e4}]},{id:"o-ivory",title:"Ivory Studio Set",cover:"/assets/shop/ivory.avif",price:15e4,pieces:[{id:"p-ivo-top",title:"Top Studio",price:4e4},{id:"p-ivo-skirt",title:"Jupe Plissée",price:55e3},{id:"p-ivo-heel",title:"Heels Or",price:55e3}]}]),a.services.length||a.setServices([{id:"svc-shoot",title:"Shooting éditorial",copy:"Direction artistique + set styling.",priceFrom:12e4},{id:"svc-ugc",title:"UGC Fashion",copy:"Contenus courts (vertical), pack 3/5/10.",priceFrom:8e4},{id:"svc-collab",title:"Collaboration marque",copy:"Activation multi-plateformes & reporting."}])}),(s,o)=>(u(),f("main",Je,[e("section",Ke,[e("div",We,[o[6]||(o[6]=e("header",{class:"mb-6 sm:mb-8"},[e("h1",{class:"text-3xl sm:text-4xl font-semibold tracking-tight"},"Boutique"),e("p",{class:"mt-2 text-white/70 text-sm sm:text-base"}," Atelier-boutique : achetez l’ensemble ou composez votre look pièce par pièce. ")],-1)),o[7]||(o[7]=e("h2",{class:"sr-only"},"Outfits",-1)),e("div",Xe,[(u(!0),f(N,null,T(h(a).outfits,m=>(u(),V(ue,{key:m.id,outfit:m,onAddBundle:b,onChoosePieces:d},null,8,["outfit"]))),128))]),h(c).count>0?(u(),f("div",Ye,[e("div",Ze,[e("span",et,[o[2]||(o[2]=w(" Panier : ",-1)),e("strong",tt,p(h(c).count),1),o[3]||(o[3]=w(" article",-1)),h(c).count>1?(u(),f("span",it,"s")):_("",!0)]),e("span",st," Total : "+p(h(q)(h(c).total)),1)])])):_("",!0),e("div",ot,[o[5]||(o[5]=e("h2",{class:"text-2xl sm:text-3xl font-semibold tracking-tight"},"Services d’influence",-1)),e("div",rt,[(u(!0),f(N,null,T(h(a).services,m=>(u(),V(Qe,{key:m.id,service:m},{icon:G(()=>[...o[4]||(o[4]=[e("i",{class:"fa-solid fa-wand-magic-sparkles text-white/70"},null,-1)])]),_:1},8,["service"]))),128))])])])]),r.value?(u(),V(De,{key:0,outfit:r.value,sourceSelector:`[data-card-id='${r.value.id}']`,onClose:o[0]||(o[0]=m=>r.value=null),onAdded:o[1]||(o[1]=({count:m,total:v})=>{r.value=null})},null,8,["outfit","sourceSelector"])):_("",!0)]))}},mt=U(nt,[["__scopeId","data-v-abbfed88"]]);export{mt as default};
